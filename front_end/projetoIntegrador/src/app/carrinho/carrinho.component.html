<div
  class="text-center bg-image"
  style="
    background-image: url('https://i.imgur.com/uMpjoNU.jpg');
    background-size: 150% 150%;
  "
>
  <div class="container ">
    <div class="row d-flex align-items-center">
      <div class="col-md-4">
        <div class="mt-4 d-flex justify-content-start">
          <button class="" type="button" class="btn btn-success btn-sm" routerLink='/produtos'>
            Continuar Comprando
          </button>
        </div>
      </div>
      <div class="col-md-4 d-flex justify-content-center align-items-center">
        <h1 class="font-weight-bold display-5 mt-4 text-center">Carrinho</h1>
        <img
          src="https://i.imgur.com/8vy1Bm2.png"
          class="img-fluid mt-4"
          alt="Foto carrinho"
          width="35px"
          height="35px"
        />
      </div>
      <div class="col-md-4 d-flex justify-content-end">
        <div class="mt-4 d-flex justify-content-end">
          <button class="" type="button" class="btn btn-danger btn-sm" (click)="deleteAllCarrinho()">
            Limpar carrinho
          </button>

        </div>
      </div>


    <!-- <button type="button" class="btn btn-info btn-sm mt-2" (click)="deleteAllCarrinho()">Remover Todos os Itens</button> -->
  </div>
  <div class="container">
    <!-- <div class="row align-items-center justify-content-start mb-4 mt-4 border-top border-bottom border-dark">
      <div class="col-md-4 mt-4 mb-4">
        <img
          class="rounded mx-auto d-block img-aj"
          src="https://i.imgur.com/ME48BqO.jpg"
          alt="Imagem produto"
        />
      </div>
      <div class="col-md-4 border-right border-dark flex-row">
        <h3 class="mb-3 mt-2 display 5">Casa para Passarinho</h3>
        <p>
          Reunir a família ou amigos é sempre bom, um momento de
          confraternização e alegria, e que tal reservar um espaço especial para
          a atividade.
        </p>
      </div>
      <div class="col-md-4">
        <h4 class="text-center mb-3">Quantidade</h4>
        <h5 class="text-center mb-3">R$ {{ preco }}</h5>
        <form>
          <div class="form-row align-items-center justify-content-center">
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect"
                >Preferência</label
              >
              <select
                (change)="quantidade($event)"
                class="custom-select mr-sm-2"
                id="inlineFormCustomSelect"
              >
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
          </div>
        </form>
      </div>
    </div> -->

    <div
      class="row align-items-center justify-content-start mb-4 mt-4 border-top border-bottom border-dark"
      *ngFor="let produto of listaCarrinho"
    >
      <div class="col-md-4 mt-4 mb-4">
        <img
          class="rounded mx-auto d-block img-aj"
          src="{{ produto.produto.foto }}"
          class="img-fluid"
          alt="Imagem produto"
        />
      </div>
      <div class="col-md-4 border-right border-dark flex-row">
        <h3 class="mb-3 mt-2 display 5">{{ produto.produto.nome }}</h3>
        <p>
          {{ produto.produto.descricao }}
        </p>
      </div>
      <div class="col-md-4">
        <h4 class="text-center mb-3">Valor</h4>
        <h5 class="text-center mb-2"> {{ produto.produto.preco | currency: 'BRL'}}</h5>
        <!-- <h5 class="text-center mb-3">R$ {{ produto.produto.preco }}</h5> -->
        <form>
          <div class="form-row align-items-center justify-content-center">
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect"
                >Preferência</label
              >
              <!-- <select
                (change)="quantidade($event)"
                class="custom-select mr-sm-2 bg-secondary
                text-white"
                id="inlineFormCustomSelect"
              >
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select> -->
              <!-- <button (click)="remover(produto.id_carrinho)">Deletar Item</button> -->
            </div>
          </div>
          <button
            type="button"
            class="btn btn-danger btn-sm mt-2"
            (click)="remover(produto.id_carrinho)"
          >
            Remover Item
          </button>
          <!-- <img class="ml-2 mt-1" src="https://i.imgur.com/NZ4Gxgw.png" alt=""
          width="25px"
          height="25px"> -->
        </form>
      </div>
    </div>

    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-12 d-flex flex-row">
          <div class="col-md-8 ml-md-auto mb-3 mt-3">
            <h5 class="text-center">Consulte o prazo de entrega</h5>
            <form class="mt-3 form-inline justify-content-center">
              <div class="mb-2 pr-3">
                <label for="cep" class="sr-only">CEP</label>
                <input
                  name="cep"
                  [(ngModel)]="cepX"
                  type="text"
                  class="form-control"
                  id="cep"
                  placeholder="Insira o CEP"
                  (keyup)="validaFrete()"
                />
              </div>
              <button
                type="submit"
                class="btn btn-success text-white font-weight-bold mb-2"
                (click)="frete()"
                *ngIf="mostra()"
              >
                Consultar
              </button>
              <button
                type="submit"
                class="btn btn-success text-white font-weight-bold mb-2"
                (click)="frete()"
                disabled
                *ngIf="esconde()"
              >
                Consultar
              </button>
            </form>
          </div>
          <div class="col-md-4 ml-md-auto mb-4 mt-4 border-left border-dark">
            <h4 class="text-center mb-3">Frete</h4>
            <h5 class="text-center mb-3">{{ valorFrete | currency: 'BRL'}}</h5>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row align-self-center mb-3 mt-4 border-top border-dark justify-content-center"
    >
      <h3 class="font-weight-bold display-5 mt-3">Forma de Pagamento</h3>
    </div>

    <div
      class="row d-flex align-items-stretch border-top border-dark justify-content-center"
    >
      <div class="col-md-12 font-weight-bold mb-5">
        <div class="d-flex justify-contend-start">
          <button
            type="button"
            class="btn btn-success mt-3 font-weight-bold"
            id="boleto"
            (click)="this.boleto = true"
          >
            Boleto
            <img
              src="https://i.imgur.com/MSXmGq0.png"
              class="img-fluid"
              alt="Imagem código de barras"
              width="30px"
              height="30px"
            />
          </button>
          <button
            type="button"
            class="btn btn-success mt-3 ml-4 font-weight-bold"
            id="cartao"
            (click)="this.boleto = false"
          >
            Cartão
            <img
              src="https://i.imgur.com/kOcBMuL.png"
              class="img-fluid"
              alt="Imagem cartão de crédito"
              width="30px"
              height="30px"
            />
          </button>
        </div>
        <div class="d-flex flex-row mt-3" *ngIf="mostraBoleto()">
          <div class="col-md-7">
            <!-- <form [formGroup]="form"> -->

            <h5 class="border-bottom border-dark">Dados Pessoais</h5>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputEmail4">Nome</label>
                <input
                  [(ngModel)]="nome"
                  name="nome"
                  type="text"
                  class="form-control"
                  id="nome"
                  placeholder="Primeiro Nome"
                  (keyup)="validaNome()"
                />
                <div class="text-danger">{{ alertaNome }}</div>
              </div>

              <div class="form-group col-md-6">
                <label for="inputPassword4">Sobrenome</label>
                <input
                  name="sobrenome"
                  [(ngModel)]="sobrenome"
                  type="text"
                  class="form-control"
                  id="inputPassword4"
                  placeholder="Último Sobrenome"
                  id="sobrenome"
                  (keyup)="validaSobrenome()"
                />
                <div class="text-danger">{{ alertaSobrenome }}</div>
              </div>
              <div class="form-group col-md-12">
                <label for="inputAddress">CPF</label>
                <input
                  name="cpf"
                  [(ngModel)]="cpf"
                  type="text"
                  class="form-control"
                  id="inputAddress"
                  placeholder="Nº CPF"
                  (keyup)="validaCpf()"
                />
                <div class="text-danger">{{ alertaCpf }}</div>
              </div>
            </div>

            <h5 class="border-bottom border-dark">Endereço</h5>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputEmail4">Rua ou Avenida</label>
                <input
                  name="rua"
                  [(ngModel)]="rua"
                  type="text"
                  class="form-control"
                  id="inputEmail4"
                  placeholder="Nome da Rua ou Avenida"
                  (keyup)="validaRua()"
                />
                <div class="text-danger">{{ alertaRua }}</div>
              </div>
              <div class="form-group col-md-6">
                <label for="inputPassword4">Bairro</label>
                <input
                  name="bairro"
                  [(ngModel)]="bairro"
                  type="text"
                  class="form-control"
                  id="inputPassword4"
                  placeholder="Nome do Bairro"
                  (keyup)="validaBairro()"
                />
                <div class="text-danger">{{ alertaBairro }}</div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-4">
                <label for="inputEmail4">Número</label>
                <input
                  type="text"
                  class="form-control"
                  id="inputEmail4"
                  placeholder="Nº Residência"
                />
              </div>
              <div class="form-group col-md-4">
                <label for="inputPassword4">CEP</label>
                <input
                  name="cep"
                  [(ngModel)]="cep"
                  type="text"
                  class="form-control"
                  id="inputPassword4"
                  placeholder="CEP da Residência"
                  (keyup)="validaCep()"
                />
                <div class="text-danger">{{ alertaCEP }}</div>
              </div>
              <div class="form-group col-md-4">
                <label for="inputPassword4">Complemento</label>
                <input
                  type="text"
                  class="form-control"
                  id="inputPassword4"
                  placeholder="Complemento"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputEmail4">Cidade</label>
                <input
                  name="cidade"
                  [(ngModel)]="cidade"
                  type="text"
                  class="form-control"
                  id="inputEmail4"
                  placeholder="Cidade"
                  (keyup)="validaCidade()"
                />
                <div class="text-danger">{{ alertaCidade }}</div>
              </div>
              <div class="form-group col-md-6">
                <label for="inputEstado">Estado</label>
                <select
                  id="inputEstado"
                  class="form-control"
                  (change)="validaEstado($event)"
                >
                  <option selected value="NADA">Selecione o Estado</option>
                  <option value="AC">Acre</option>
                  <option value="AL">Alagoas</option>
                  <option value="AP">Amapá</option>
                  <option value="AM">Amazonas</option>
                  <option value="BA">Bahia</option>
                  <option value="CE">Ceará</option>
                  <option value="DF">Distrito Federal</option>
                  <option value="ES">Espírito Santo</option>
                  <option value="GO">Goiás</option>
                  <option value="MA">Maranhão</option>
                  <option value="MT">Mato Grosso</option>
                  <option value="MS">Mato Grosso do Sul</option>
                  <option value="MG">Minas Gerais</option>
                  <option value="PA">Pará</option>
                  <option value="PB">Paraíba</option>
                  <option value="PR">Paraná</option>
                  <option value="PE">Pernambuco</option>
                  <option value="PI">Piauí</option>
                  <option value="RJ">Rio de Janeiro</option>
                  <option value="RN">Rio Grande do Norte</option>
                  <option value="RS">Rio Grande do Sul</option>
                  <option value="RO">Rondônia</option>
                  <option value="RR">Roraima</option>
                  <option value="SC">Santa Catarina</option>
                  <option value="SP">São Paulo</option>
                  <option value="SE">Sergipe</option>
                  <option value="TO">Tocantins</option>
                  <option value="EX">Estrangeiro</option>
                </select>
                <div class="text-danger">{{ alertaEstado }}</div>
              </div>
            </div>

            <!-- </form> -->
          </div>
          <div class="col-md-5 mt-4">
            <div class="border-left border-dark">
              <img
                class="rounded mx-auto d-block"
                src="https://i.imgur.com/MSXmGq0.png"
                class="img-fluid"
                alt=""
                width="200px"
                height="200px"
              />

              <h2 class="text center mb-4 mt-5 d-flex justify-content-around">
                Resumo da compra
              </h2>
              <div
                class="d-flex justify-content-around"
                style="font-size: 13pt"
              >
                <p>Produtos</p>
                <p> {{ produtos() | currency: 'BRL' }}</p>
              </div>

              <div
                class="d-flex justify-content-around mb-3"
                style="font-size: 13pt"
              >
                <p>Envio</p>
                <p>{{ valorFrete | currency: 'BRL'}}</p>
              </div>
              <div
                class="row mt-5 ml-1 mr-1 d-flex justify-content-around border-top border-dark"
                style="font-size: 13pt"
              >
                <p class="mt-2">Total</p>
                <p class="mt-2"> {{ total() | currency: 'BRL'}}</p>
              </div>
              <div class="row d-flex justify-content-center">
                <div class="col-md-4 mt-5">
                  <button
                    type="button"
                    class="btn btn-success text-white font-weight-bold"
                    data-toggle="modal"
                    data-target="#modalExemplo"
                    *ngIf="mostraFinaliza()"
                  >
                    Finalizar compra
                  </button>
                  <button
                    type="button"
                    class="btn btn-success text-white font-weight-bold"
                    data-toggle="modal"
                    data-target="#modalExemplo"
                    disabled
                    *ngIf="escondeFinaliza()"
                  >
                    Finalizar compra
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex flex-row mt-3" *ngIf="mostraCartao()">
          <div class="col-md-7">
            <div class="form-group" id="boleto">
              <form>
                <h5 class="border-bottom border-dark">Dados do Cartão</h5>
                <div class="form-group">
                  <label for="inputAddress">Número do Cartão</label>
                  <input
                    name="numCartao"
                    [(ngModel)]="numCartao"
                    type="text"
                    class="form-control"
                    id="inputAddress"
                    placeholder="Digite o número do Cartão"
                    (keyup)="validaNumCartao()"
                  />
                  <div class="text-danger">{{ alertaNumCartao }}</div>
                </div>
                <div class="form-group">
                  <label for="inputAddress2">Nome do Titular do Cartão</label>
                  <input
                    name="nameFull"
                    [(ngModel)]="nameFull"
                    type="text"
                    class="form-control"
                    id="inputAddress2"
                    placeholder="Nome Completo"
                    (keyup)="validaNameFull()"
                  />
                  <div class="text-danger">{{ alertaNameFull }}</div>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-6">
                    <label for="inputEmail4">Data de vencimento</label>
                    <input
                      type="text"
                      class="form-control"
                      id="inputEmail4"
                      placeholder="Vencimento do Cartão"
                    />
                  </div>
                  <div class="form-group col-md-6">
                    <label for="inputPassword4">Código de Segurança</label>
                    <input
                      name="codSeg"
                      [(ngModel)]="codSeg"
                      type="text"
                      class="form-control"
                      id="inputPassword4"
                      placeholder="Cod.Segurança"
                      (keyup)="validaCodSeg()"
                    />
                    <div class="text-danger">{{ alertaCodSeg }}</div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="inputAddress">CPF</label>
                  <input
                    name="cpf"
                    [(ngModel)]="cpf"
                    type="text"
                    class="form-control"
                    id="inputAddress"
                    placeholder="Nº CPF"
                    (keyup)="validaCpf()"
                  />
                  <div class="text-danger">{{ alertaCpf }}</div>
                </div>
                <h5 class="border-bottom border-dark">Endereço</h5>
                <div class="form-row">
                  <div class="form-group col-md-6">
                    <label for="inputEmail4">Rua ou Avenida</label>
                    <input
                      name="rua"
                      [(ngModel)]="rua"
                      type="text"
                      class="form-control"
                      id="inputEmail4"
                      placeholder="Nome da Rua ou Avenida"
                      (keyup)="validaRua()"
                    />
                    <div class="text-danger">{{ alertaRua }}</div>
                  </div>
                  <div class="form-group col-md-6">
                    <label for="inputPassword4">Bairro</label>
                    <input
                      name="bairro"
                      [(ngModel)]="bairro"
                      type="text"
                      class="form-control"
                      id="inputPassword4"
                      placeholder="Nome do Bairro"
                      (keyup)="validaBairro()"
                    />
                    <div class="text-danger">{{ alertaBairro }}</div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-4">
                    <label for="inputEmail4">Número</label>
                    <input
                      type="text"
                      class="form-control"
                      id="inputEmail4"
                      placeholder="Nº Residência"
                    />
                  </div>
                  <div class="form-group col-md-4">
                    <label for="inputPassword4">CEP</label>
                    <input
                      name="cep"
                      [(ngModel)]="cep"
                      type="text"
                      class="form-control"
                      id="inputPassword4"
                      placeholder="CEP da Residência"
                      (keyup)="validaCep()"
                    />
                    <div class="text-danger">{{ alertaCEP }}</div>
                  </div>
                  <div class="form-group col-md-4">
                    <label for="inputPassword4">Complemento</label>
                    <input
                      type="text"
                      class="form-control"
                      id="inputPassword4"
                      placeholder="Complemento"
                    />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-6">
                    <label for="inputEmail4">Cidade</label>
                    <input
                      name="cidade"
                      [(ngModel)]="cidade"
                      type="text"
                      class="form-control"
                      id="inputEmail4"
                      placeholder="Cidade"
                      (keyup)="validaCidade()"
                    />
                    <div class="text-danger">{{ alertaCidade }}</div>
                  </div>
                  <div class="form-group col-md-6">
                    <label for="inputEstado">Estado</label>
                    <select
                      id="inputEstado"
                      class="form-control"
                      (change)="validaEstado($event)"
                    >
                      <option selected value="NADA">Selecione o Estado</option>
                      <option value="AC">Acre</option>
                      <option value="AL">Alagoas</option>
                      <option value="AP">Amapá</option>
                      <option value="AM">Amazonas</option>
                      <option value="BA">Bahia</option>
                      <option value="CE">Ceará</option>
                      <option value="DF">Distrito Federal</option>
                      <option value="ES">Espírito Santo</option>
                      <option value="GO">Goiás</option>
                      <option value="MA">Maranhão</option>
                      <option value="MT">Mato Grosso</option>
                      <option value="MS">Mato Grosso do Sul</option>
                      <option value="MG">Minas Gerais</option>
                      <option value="PA">Pará</option>
                      <option value="PB">Paraíba</option>
                      <option value="PR">Paraná</option>
                      <option value="PE">Pernambuco</option>
                      <option value="PI">Piauí</option>
                      <option value="RJ">Rio de Janeiro</option>
                      <option value="RN">Rio Grande do Norte</option>
                      <option value="RS">Rio Grande do Sul</option>
                      <option value="RO">Rondônia</option>
                      <option value="RR">Roraima</option>
                      <option value="SC">Santa Catarina</option>
                      <option value="SP">São Paulo</option>
                      <option value="SE">Sergipe</option>
                      <option value="TO">Tocantins</option>
                      <option value="EX">Estrangeiro</option>
                    </select>
                    <div class="text-danger">{{ alertaEstado }}</div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="col-md-5 mt-4">
            <div class="border-left border-dark">
              <img
                class="rounded mx-auto d-block"
                src="https://i.imgur.com/kOcBMuL.png"
                class="img-fluid"
                alt=""
                width="200px"
                height="200px"
              />

              <h2 class="text center mb-4 mt-5 d-flex justify-content-around">
                Resumo da compra
              </h2>
              <div
                class="d-flex justify-content-around"
                style="font-size: 13pt"
              >
                <p>Produtos</p>
                <p> {{ produtos() | currency: 'BRL' }}</p>
              </div>

              <div
                class="d-flex justify-content-around mb-3"
                style="font-size: 13pt"
              >
                <p>Envio</p>
                <p> {{ valorFrete | currency: 'BRL' }}</p>
              </div>
              <div
                class="row mt-5 ml-1 mr-1 d-flex justify-content-around border-top border-dark"
                style="font-size: 13pt"
              >
                <p class="mt-2">Total</p>
                <p class="mt-2"> {{ total() | currency: 'BRL'}}</p>
              </div>
              <div class="row d-flex justify-content-center">
                <div class="col-md-4 mt-5">
                  <button
                    type="button"
                    class="btn btn-success text-white font-weight-bold"
                    data-toggle="modal"
                    data-target="#modalExemplo"
                    *ngIf="mostraFinalizaX()"
                  >
                    Finalizar compra
                  </button>
                  <button
                    type="button"
                    class="btn btn-success text-white font-weight-bold"
                    data-toggle="modal"
                    data-target="#modalExemplo"
                    disabled
                    *ngIf="escondeFinalizaX()"
                  >
                    Finalizar compra
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div
  class="modal fade"
  id="modalExemplo"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">PARABÉNS !!</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Fechar"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Obrigado pela compra, o planeta agradece sua ajuda !
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          data-dismiss="modal"
          routerLink="/home"
        >
          Fechar
        </button>
      </div>
    </div>
  </div>
</div>
